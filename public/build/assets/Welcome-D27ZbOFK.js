import{r as k,l as I,s as ee,c as a,o as s,b as e,g as u,F as w,f as M,x as U,n as p,t as c,m as j,j as E,y as P,z as D,v as V,T as te,k as oe,a as F,d as se,h as le,e as A,q as C,u as re}from"./app-BINV0W-l.js";import{S as L}from"./sweetalert2.esm.all-BQxta0Da.js";const ae={class:"relative rounded-t-2xl overflow-hidden bg-slate-900 dark:bg-black aspect-video flex items-center justify-center"},ne={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-800 animate-pulse"},de=["src"],ie={key:1,class:"absolute inset-0 bg-slate-900/80 dark:bg-black/80 flex flex-col items-center justify-center p-6 text-center"},ue={class:"text-indigo-300 text-[10px] uppercase tracking-widest"},ce={key:2,class:"absolute inset-0 bg-red-900/20 dark:bg-red-900/40 flex flex-col items-center justify-center"},be={class:"absolute top-4 right-4 flex space-x-2"},ge={class:"p-6 flex-1 flex flex-col"},xe={class:"flex justify-between items-start mb-3"},ve={class:"font-bold text-slate-900 dark:text-white line-clamp-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},he={class:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-6 leading-relaxed"},fe={class:"mt-auto space-y-4"},ke={key:0,class:"grid grid-cols-4 gap-1"},pe={key:1,class:"space-y-3"},me={class:"flex items-center justify-between text-xs text-slate-400 dark:text-slate-500"},ye={class:"flex items-center space-x-2"},we={key:0,class:"text-emerald-500 font-medium"},_e={class:"font-bold text-slate-600 dark:text-slate-400 uppercase"},Ce={class:"grid grid-cols-2 gap-2"},Me=["href"],$e={key:4,class:"col-span-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg"},je={class:"text-[10px] text-red-600 dark:text-red-400 leading-tight"},Ve={key:5,class:"col-span-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg"},Be={class:"text-[10px] text-red-600 dark:text-red-400 leading-tight"},Te={key:6,class:"col-span-2"},ze={key:0,class:"w-full flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-xl border border-blue-100 dark:border-blue-900/30"},He={class:"flex items-center"},Se=["src"],Ae=["href"],Le={key:1,class:"w-full flex items-center justify-center p-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 rounded-xl border border-yellow-100 dark:border-yellow-900/30"},Ee={key:7,class:"col-span-2"},Fe={key:0,class:"w-full flex items-center justify-between p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 rounded-xl border border-indigo-100 dark:border-indigo-900/30"},Ie={class:"flex items-center"},Ue=["src"],Pe={key:1,class:"w-5 h-5 rounded-full bg-blue-600 text-white flex items-center justify-center mr-2 text-[8px] font-bold"},De=["href"],Ye={key:1,class:"w-full flex items-center justify-center p-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 rounded-xl border border-yellow-100 dark:border-yellow-900/30"},qe={__name:"StoryCard",props:{story:{type:Object,required:!0}},emits:["regenerate","delete","upload","upload-facebook"],setup(l,{emit:H}){const b=H,y=k(!1),v=k(!1),_=k(null);let g=null;const i=()=>{y.value=!0};I(()=>{g=new IntersectionObserver(h=>{h[0].isIntersecting&&(v.value=!0,g.disconnect())},{rootMargin:"100px",threshold:.01}),_.value&&g.observe(_.value)}),ee(()=>{g&&g.disconnect()});const x=h=>{switch(h){case"completed":return"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400";case"processing":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400";case"pending":return"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400";case"failed":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";default:return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-400"}},B=h=>{if(!h)return"";const r=new Date(h);return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((r-new Date)/(1e3*60*60*24)),"day")},z=h=>{if(h.status!=="completed"||!h.created_at||!h.updated_at)return null;const r=new Date(h.created_at),m=new Date(h.updated_at)-r,S=Math.floor(m/6e4),n=Math.floor(m%6e4/1e3);return S>0?`${S}m ${n}s`:`${n}s`};return(h,r)=>(s(),a("div",{ref_key:"cardRef",ref:_,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-xl transition-all duration-300 group flex flex-col h-full"},[e("div",ae,[l.story.status==="completed"&&l.story.video_path?(s(),a(w,{key:0},[!y.value||!v.value?(s(),a("div",ne,[...r[6]||(r[6]=[e("svg",{class:"w-10 h-10 text-slate-300 dark:text-slate-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),e("span",{class:"text-[10px] text-slate-400 font-medium uppercase tracking-wider"},"Loading Preview...",-1)])])):u("",!0),v.value?M((s(),a("video",{key:1,onLoadeddata:i,controls:"",preload:"metadata",class:p(["w-full h-full object-contain",l.story.aspect_ratio==="9:16"?"max-w-[180px] mx-auto":""])},[e("source",{src:"/storage/"+l.story.video_path,type:"video/mp4"},null,8,de)],34)),[[U,y.value]]):u("",!0)],64)):u("",!0),l.story.status==="processing"||l.story.status==="pending"?(s(),a("div",ie,[r[7]||(r[7]=e("div",{class:"relative w-16 h-16 mb-4"},[e("div",{class:"absolute inset-0 rounded-full border-4 border-indigo-500/20"}),e("div",{class:"absolute inset-0 rounded-full border-4 border-indigo-500 border-t-transparent animate-spin"})],-1)),r[8]||(r[8]=e("h4",{class:"text-white font-bold mb-1"},"AI is working...",-1)),e("p",ue,c(l.story.scenes_count>0?"Parsing Scenes":"Initializing"),1)])):u("",!0),l.story.status==="failed"?(s(),a("div",ce,[...r[9]||(r[9]=[e("svg",{class:"w-12 h-12 text-red-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",{class:"text-red-700 dark:text-red-400 font-bold"},"Generation Failed",-1)])])):u("",!0),e("div",be,[l.story.status==="completed"||l.story.status==="failed"?(s(),a("button",{key:0,onClick:r[0]||(r[0]=f=>b("regenerate",l.story)),class:"p-2 bg-white/10 hover:bg-indigo-500 text-white rounded-lg backdrop-blur-md transition-all group/btn",title:"Regenerate Video"},[...r[10]||(r[10]=[e("svg",{class:"w-4 h-4 group-hover/btn:rotate-180 transition-transform duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):u("",!0),e("button",{onClick:r[1]||(r[1]=f=>b("delete",l.story)),class:"p-2 bg-white/10 hover:bg-red-500 text-white rounded-lg backdrop-blur-md transition-all",title:"Delete Story"},[...r[11]||(r[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),e("div",ge,[e("div",xe,[e("h3",ve,c(l.story.title||"Untitled Story"),1),e("span",{class:p([x(l.story.status),"text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider"])},c(l.story.status),3)]),e("p",he,c(l.story.content),1),e("div",fe,[l.story.status==="processing"||l.story.status==="pending"?(s(),a("div",ke,[(s(),a(w,null,j(4,f=>e("div",{key:f,class:p(["h-1 rounded-full",l.story.scenes_count>=f?"bg-indigo-500":"bg-slate-100 dark:bg-slate-800"])},null,2)),64))])):u("",!0),l.story.status==="completed"?(s(),a("div",pe,[e("div",me,[e("div",ye,[e("span",null,"Created "+c(B(l.story.created_at)),1),z(l.story)?(s(),a("span",we,"• Generated in "+c(z(l.story)),1)):u("",!0)]),e("span",_e,c(l.story.aspect_ratio),1)]),e("div",Ce,[e("a",{href:"/storage/"+l.story.video_path,download:"",class:p([l.story.youtube_upload_status==="failed"||l.story.facebook_upload_status==="failed"?"col-span-1":"","flex items-center justify-center space-x-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold py-2 rounded-xl transition-all text-sm"])},[...r[12]||(r[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),e("span",null,"Save",-1)])],10,Me),l.story.youtube_upload_status==="failed"?(s(),a("button",{key:0,onClick:r[2]||(r[2]=f=>b("upload",l.story)),class:"col-span-1 flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[13]||(r[13]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"Retry YT",-1)])])):l.story.youtube_upload_status?u("",!0):(s(),a("button",{key:1,onClick:r[3]||(r[3]=f=>b("upload",l.story)),class:"flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[14]||(r[14]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"YouTube",-1)])])),l.story.facebook_upload_status==="failed"?(s(),a("button",{key:2,onClick:r[4]||(r[4]=f=>b("upload-facebook",l.story)),class:"col-span-1 flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[15]||(r[15]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1),e("span",null,"Retry FB",-1)])])):l.story.facebook_upload_status?u("",!0):(s(),a("button",{key:3,onClick:r[5]||(r[5]=f=>b("upload-facebook",l.story)),class:"flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[16]||(r[16]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1),e("span",null,"FB Reels",-1)])])),l.story.youtube_upload_status==="failed"&&l.story.youtube_error?(s(),a("div",$e,[e("p",je,[r[17]||(r[17]=e("span",{class:"font-bold"},"YT Error:",-1)),E(" "+c(l.story.youtube_error),1)])])):u("",!0),l.story.facebook_upload_status==="failed"&&l.story.facebook_error?(s(),a("div",Ve,[e("p",Be,[r[18]||(r[18]=e("span",{class:"font-bold"},"FB Error:",-1)),E(" "+c(l.story.facebook_error),1)])])):u("",!0),l.story.youtube_upload_status&&l.story.youtube_upload_status!=="failed"?(s(),a("div",Te,[l.story.youtube_upload_status==="completed"?(s(),a("div",ze,[e("div",He,[e("img",{src:l.story.youtube_channel?.channel_thumbnail,class:"w-5 h-5 rounded-full mr-2"},null,8,Se),r[19]||(r[19]=e("span",{class:"text-[10px] font-bold"},"LIVE ON YOUTUBE",-1))]),e("a",{href:"https://youtube.com/watch?v="+l.story.youtube_video_id,target:"_blank",class:"text-[10px] underline font-bold"},"WATCH",8,Ae)])):l.story.youtube_upload_status==="uploading"?(s(),a("div",Le,[...r[20]||(r[20]=[e("svg",{class:"animate-spin h-3 w-3 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",{class:"text-[10px] font-bold"},"UPLOADING TO YOUTUBE...",-1)])])):u("",!0)])):u("",!0),l.story.facebook_upload_status&&l.story.facebook_upload_status!=="failed"?(s(),a("div",Ee,[l.story.facebook_upload_status==="completed"?(s(),a("div",Fe,[e("div",Ie,[l.story.facebook_page?.picture_url?(s(),a("img",{key:0,src:l.story.facebook_page.picture_url,class:"w-5 h-5 rounded-full mr-2"},null,8,Ue)):(s(),a("div",Pe,c(l.story.facebook_page?.name?.charAt(0)||"F"),1)),r[21]||(r[21]=e("span",{class:"text-[10px] font-bold"},"LIVE ON FB REELS",-1))]),e("a",{href:"https://facebook.com/"+l.story.facebook_video_id,target:"_blank",class:"text-[10px] underline font-bold"},"WATCH",8,De)])):l.story.facebook_upload_status==="uploading"?(s(),a("div",Ye,[...r[22]||(r[22]=[e("svg",{class:"animate-spin h-3 w-3 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",{class:"text-[10px] font-bold"},"UPLOADING TO FB REELS...",-1)])])):u("",!0)])):u("",!0)])])):u("",!0)])])],512))}},Ne={key:0,class:"fixed inset-0 z-[100] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Oe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Re={class:"inline-block align-bottom bg-white dark:bg-slate-900 rounded-3xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full relative z-10"},Ge={class:"bg-white dark:bg-slate-900 px-6 pt-6 pb-8"},We={class:"flex items-center justify-between mb-6"},Je={class:"space-y-5"},Ze={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl flex items-start space-x-3"},Ke={class:"text-xs text-red-700 dark:text-red-400 mt-1 leading-relaxed"},Qe={class:"grid grid-cols-2 gap-3"},Xe=["onClick"],et=["src"],tt={class:"text-xs font-bold truncate text-slate-700 dark:text-slate-300"},ot={class:"bg-slate-50 dark:bg-slate-800/50 px-6 py-4 flex flex-row-reverse space-x-3 space-x-reverse"},st={__name:"PublishModal",props:{show:Boolean,story:Object,channels:Array},emits:["close","confirm"],setup(l,{emit:H}){const b=l,y=H,v=k({youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null});P(()=>b.story,g=>{g&&(v.value={youtube_title:g.youtube_title||g.title||"",youtube_description:g.youtube_description||g.content||"",youtube_tags:g.youtube_tags||"ai, story, animation",youtube_token_id:g.youtube_token_id||(b.channels.length>0?b.channels[0].id:null)})},{immediate:!0});const _=()=>{y("confirm",{...v.value})};return(g,i)=>(s(),D(te,{to:"body"},[l.show?(s(),a("div",Ne,[e("div",Oe,[e("div",{onClick:i[0]||(i[0]=x=>y("close")),class:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm transition-opacity","aria-hidden":"true"}),i[15]||(i[15]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",Re,[e("div",Ge,[e("div",We,[i[7]||(i[7]=e("h3",{class:"text-2xl font-bold text-slate-900 dark:text-white",id:"modal-title"},"Publish to YouTube",-1)),e("button",{onClick:i[1]||(i[1]=x=>y("close")),class:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors"},[...i[6]||(i[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Je,[l.story?.youtube_error?(s(),a("div",Ze,[i[9]||(i[9]=e("svg",{class:"w-5 h-5 text-red-500 mt-0.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[i[8]||(i[8]=e("h4",{class:"text-sm font-bold text-red-800 dark:text-red-300"},"Previous Upload Failed",-1)),e("p",Ke,c(l.story.youtube_error),1)])])):u("",!0),e("div",null,[i[10]||(i[10]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Select Channel",-1)),e("div",Qe,[(s(!0),a(w,null,j(l.channels,x=>(s(),a("div",{key:x.id,onClick:B=>v.value.youtube_token_id=x.id,class:p(["flex items-center p-3 border rounded-xl cursor-pointer transition-all",v.value.youtube_token_id===x.id?"border-red-500 bg-red-50 dark:bg-red-900/20 ring-2 ring-red-100 dark:ring-red-900/40":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-red-300"])},[e("img",{src:x.channel_thumbnail,class:"w-8 h-8 rounded-full shadow-sm mr-3"},null,8,et),e("span",tt,c(x.channel_title),1)],10,Xe))),128))])]),e("div",null,[i[11]||(i[11]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"YouTube Title",-1)),M(e("input",{"onUpdate:modelValue":i[2]||(i[2]=x=>v.value.youtube_title=x),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Enter a catchy title..."},null,512),[[V,v.value.youtube_title]])]),e("div",null,[i[12]||(i[12]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Tags (comma separated)",-1)),M(e("input",{"onUpdate:modelValue":i[3]||(i[3]=x=>v.value.youtube_tags=x),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"ai, story, animation..."},null,512),[[V,v.value.youtube_tags]])]),e("div",null,[i[13]||(i[13]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Description",-1)),M(e("textarea",{"onUpdate:modelValue":i[4]||(i[4]=x=>v.value.youtube_description=x),rows:"4",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-sm text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Enter video description..."},null,512),[[V,v.value.youtube_description]])])])]),e("div",ot,[e("button",{onClick:_,class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition-all shadow-lg shadow-red-100 dark:shadow-none flex items-center justify-center space-x-2"},[...i[14]||(i[14]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"Start Upload",-1)])]),e("button",{onClick:i[5]||(i[5]=x=>y("close")),class:"flex-1 bg-white hover:bg-slate-50 text-slate-700 font-bold py-3 px-6 rounded-xl border border-slate-200 transition-all"}," Cancel ")])])])])):u("",!0)]))}},lt={class:"min-h-screen bg-[#f8fafc] dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-300"},rt={class:"sticky top-0 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-slate-200 dark:border-slate-800"},at={class:"container mx-auto px-4 max-w-6xl"},nt={class:"flex items-center justify-between h-16"},dt={class:"flex items-center gap-3"},it={key:0,class:"hidden lg:flex items-center -space-x-2.5 pr-3 border-r border-slate-200 dark:border-slate-700"},ut={class:"flex items-center -space-x-2.5"},ct=["src","title"],bt=["src","title"],gt=["title"],xt={key:0,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 flex items-center justify-center bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-bold"},vt={class:"flex items-center gap-1.5"},ht={key:0,class:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={key:1,class:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},kt={class:"container mx-auto px-4 max-w-6xl pb-20"},pt={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},mt={class:"lg:col-span-8 space-y-8"},yt={class:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden"},wt={class:"p-6 md:p-8"},_t={class:"mb-8"},Ct={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Mt=["onClick"],$t={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jt=["d"],Vt={class:"text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300"},Bt={class:"flex items-center space-x-2 mb-4"},Tt={class:"flex space-x-2 mb-4"},zt=["placeholder"],Ht=["disabled"],St={class:"flex items-center space-x-2"},At={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},Lt={key:0,class:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar"},Et=["onClick"],Ft={class:"font-bold text-slate-800 dark:text-slate-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 mb-1"},It={class:"text-sm text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed"},Ut={class:"space-y-6"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dt={class:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl"},Yt=["onClick"],qt={class:"border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/50"},Nt={class:"px-6 pb-6 space-y-4"},Ot={key:0},Rt={class:"grid grid-cols-2 md:grid-cols-3 gap-3"},Gt=["onClick"],Wt=["src"],Jt={class:"text-xs font-bold truncate text-slate-700 dark:text-slate-200"},Zt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Kt={class:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-10"},Qt=["disabled"],Xt={key:0,class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},eo=["disabled"],to={key:0,class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},oo={key:1,class:"w-5 h-5 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},so={class:"lg:col-span-4 space-y-6"},lo={key:0,class:"bg-indigo-600 rounded-2xl shadow-lg p-6 text-white"},ro={key:0,class:"mt-20"},ao={class:"flex items-center justify-between mb-8"},no={class:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400"},io={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8"},uo={key:0,class:"mt-12 flex justify-center items-center space-x-2"},co=["onClick","disabled","innerHTML"],vo={__name:"Welcome",props:{auth:Object},setup(l){const H=l,b=oe.useToast(),y=k([]),v=k(null),_=k(!1),g=k(!1),i=k(!1),x=k([]),B=k(!1),z=k(!1),h=k(null),r=k([]),f=k([]),m=k(!1),S=()=>{m.value=!m.value,m.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},n=k({title:"",content:"",style:"story",aspect_ratio:"16:9",youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null,search_query:""}),T=async(d=1)=>{try{const t=await C.get(`/api/stories?page=${d}`);y.value=t.data.data,v.value=t.data}catch(t){console.error("Error fetching stories:",t)}},Y=async()=>{try{const d=await C.get("/api/youtube/channels");r.value=d.data}catch(d){console.error("Error fetching channels:",d)}},q=async()=>{try{const d=await C.get("/api/facebook/pages");f.value=d.data}catch(d){console.error("Error fetching Facebook pages:",d)}};I(()=>{const d=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(d==="dark"||!d&&t)&&(m.value=!0,document.documentElement.classList.add("dark")),T(),Y(),q(),setInterval(()=>T(v.value?.current_page||1),5e3)}),P(()=>n.value.style,d=>{if(r.value.length===0)return;let t="";if(d==="science_short"?t="The 60s Lab":d==="hollywood_hype"?t="Hollywood Hype":d==="trade_wave"&&(t="TradeWave"),t){const o=r.value.find($=>$.channel_title.includes(t));o&&(n.value.youtube_token_id=o.id)}});const N=async()=>{if(!n.value.content||n.value.content.length<10){b.error("Please provide a longer story description.");return}_.value=!0;try{await C.post("/api/stories",n.value),b.success("Story created successfully!"),n.value={title:"",content:"",style:"story",aspect_ratio:"16:9",youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null,search_query:""},T()}catch(d){console.error("Error creating story:",d)}finally{_.value=!1}},O=async()=>{g.value=!0;try{const d=await C.post("/api/ai/generate-story",{title:n.value.title||"a random interesting story",style:n.value.style});!n.value.title&&d.data.title&&(n.value.title=d.data.title),n.value.content=d.data.content,n.value.youtube_title=d.data.youtube_title||d.data.title,n.value.youtube_description=d.data.youtube_description||d.data.content,n.value.youtube_tags=d.data.youtube_tags||"ai, story, animation",B.value=!0}catch(d){console.error("Error generating story:",d)}finally{g.value=!1}},R=async()=>{if(n.value.search_query){i.value=!0;try{const d=await C.post("/api/ai/search-news",{query:n.value.search_query,style:n.value.style});x.value=d.data}catch(d){console.error("Error searching news:",d)}finally{i.value=!1}}},G=d=>{n.value.title=d.title,n.value.content=d.snippet,x.value=[]},W=async d=>{if((await L.fire({title:"Regenerate Video?",text:"Re-run AI generation for this story? Existing video will be replaced.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#64748b",confirmButtonText:"Yes, regenerate it!",background:m.value?"#0f172a":"#ffffff",color:m.value?"#f8fafc":"#0f172a"})).isConfirmed)try{d.status="pending",await C.post(`/api/stories/${d.id}/regenerate`),b.info("Video regeneration started."),T()}catch(o){console.error("Error regenerating story:",o),b.error("Failed to regenerate video.")}},J=async d=>{if((await L.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#64748b",confirmButtonText:"Yes, delete it!",background:m.value?"#0f172a":"#ffffff",color:m.value?"#f8fafc":"#0f172a"})).isConfirmed)try{await C.delete(`/api/stories/${d.id}`),b.success("Story deleted."),T()}catch(o){console.error("Error deleting story:",o),b.error("Failed to delete story.")}},Z=d=>{h.value=d,z.value=!0},K=async d=>{if(f.value.length===0){b.error("Please connect a Facebook page first.");return}const{value:t}=await L.fire({title:"Select Facebook Page",input:"select",inputOptions:f.value.reduce((o,$)=>(o[$.id]=$.name,o),{}),inputPlaceholder:"Choose a page...",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#64748b",background:m.value?"#0f172a":"#ffffff",color:m.value?"#f8fafc":"#0f172a"});if(t)try{await C.post(`/api/stories/${d.id}/upload-facebook`,{facebook_page_id:t}),b.success("Facebook upload queued successfully!"),T()}catch(o){console.error("Error uploading to Facebook:",o),b.error(o.response?.data?.error||"Failed to upload to Facebook.")}},Q=async d=>{try{z.value=!1,await C.patch(`/api/stories/${h.value.id}`,d),await C.post(`/api/stories/${h.value.id}/upload`),b.success("Upload queued successfully!"),T()}catch(t){console.error("Error publishing story:",t),b.error("Failed to start upload. Please try again.")}},X=()=>{re({}).post("/logout")};return(d,t)=>(s(),a(w,null,[F(se(le),{title:"AI Video Storyteller"}),e("div",lt,[e("nav",rt,[e("div",at,[e("div",nt,[t[13]||(t[13]=A('<div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200/50 dark:shadow-indigo-900/20"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></div><span class="text-lg font-bold tracking-tight text-slate-800 dark:text-white">Video<span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600">AI</span></span></div>',1)),e("div",dt,[r.value.length>0||f.value.length>0?(s(),a("div",it,[e("div",ut,[(s(!0),a(w,null,j(r.value.slice(0,2),o=>(s(),a("img",{key:"yt-"+o.id,src:o.channel_thumbnail,title:o.channel_title,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 cursor-pointer transition-all hover:scale-110 hover:z-10 hover:ring-indigo-400"},null,8,ct))),128)),(s(!0),a(w,null,j(f.value.slice(0,2),o=>(s(),a(w,{key:"fb-"+o.id},[o.picture_url?(s(),a("img",{key:0,src:o.picture_url,title:o.name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 cursor-pointer transition-all hover:scale-110 hover:z-10 hover:ring-blue-400"},null,8,bt)):(s(),a("div",{key:1,title:o.name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 flex items-center justify-center bg-gradient-to-br from-blue-500 to-blue-600 text-white text-xs font-bold cursor-pointer transition-all hover:scale-110 hover:z-10 hover:ring-blue-400"},c(o.name.charAt(0)),9,gt))],64))),128)),r.value.length+f.value.length>4?(s(),a("div",xt," +"+c(r.value.length+f.value.length-4),1)):u("",!0)])])):u("",!0),e("div",vt,[e("button",{onClick:S,class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-all group relative"},[m.value?(s(),a("svg",ht,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.243 17.243l.707.707M7.757 7.757l.707-.707M12 7a5 5 0 100 10 5 5 0 000-10z"},null,-1)])])):(s(),a("svg",ft,[...t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))]),t[11]||(t[11]=A('<a href="/statistics" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-all group relative" title="Statistics"><svg class="w-5 h-5 group-hover:scale-110 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></a><a href="/schedules" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-all group relative" title="Schedules"><svg class="w-5 h-5 group-hover:scale-110 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></a>',2)),H.auth?.user?(s(),a("button",{key:0,onClick:X,class:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-all group relative",title:"Logout"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])):u("",!0),t[12]||(t[12]=A('<a href="/youtube/auth" class="group flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900 dark:bg-slate-100 hover:bg-slate-800 dark:hover:bg-white text-white dark:text-slate-900 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200 dark:hover:shadow-none" title="Connect YouTube"><svg class="w-4 h-4 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg><span class="hidden sm:inline text-xs font-semibold">YouTube</span></a><a href="/oauth/facebook/auth" class="group flex items-center gap-2 px-3 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white transition-all duration-200 hover:shadow-lg hover:shadow-blue-200 dark:hover:shadow-none" title="Connect Facebook"><svg class="w-4 h-4 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg><span class="hidden sm:inline text-xs font-semibold">Facebook</span></a>',2))])])])])]),e("main",kt,[t[34]||(t[34]=e("section",{class:"text-center mb-12"},[e("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 dark:text-white mb-4 tracking-tight"},[E(" Turn your ideas into "),e("span",{class:"bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent"},"stunning videos")]),e("p",{class:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto"}," The fastest way to create animated stories, science explainers, and entertainment news using advanced AI. ")],-1)),e("div",pt,[e("div",mt,[e("div",yt,[e("div",wt,[t[30]||(t[30]=e("div",{class:"flex items-center justify-between mb-8"},[e("h2",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"Create New Story"),e("span",{class:"text-xs font-semibold px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full"},"AI-Powered")],-1)),e("div",_t,[t[14]||(t[14]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-4"},"Choose your style",-1)),e("div",Ct,[(s(),a(w,null,j([{id:"story",name:"General Story",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5S19.832 5.477 21 6.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"blue"},{id:"science_short",name:"60s Lab",icon:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.691.34a2 2 0 01-1.782 0l-.691-.34a6 6 0 00-3.86-.517l-2.387.477a2 2 0 00-1.022.547V18a2 2 0 002 2h12a2 2 0 002-2v-2.572zM12 11V3.5",color:"purple"},{id:"hollywood_hype",name:"Hollywood",icon:"M7 4V20M17 4V20M3 8H7M17 8H21M3 12H21M3 16H7M17 16H21M4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20Z",color:"red"},{id:"trade_wave",name:"TradeWave",icon:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z",color:"green"}],o=>e("div",{key:o.id,onClick:$=>n.value.style=o.id,class:p(["cursor-pointer p-4 rounded-xl border-2 transition-all flex flex-col items-center text-center space-y-3",n.value.style===o.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 shadow-sm":"border-slate-100 dark:border-slate-800 hover:border-slate-200 dark:hover:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50"])},[e("div",{class:p(["w-10 h-10 rounded-lg flex items-center justify-center",n.value.style===o.id?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"])},[(s(),a("svg",$t,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o.icon},null,8,jt)]))],2),e("span",Vt,c(o.name),1)],10,Mt)),64))])]),n.value.style==="hollywood_hype"||n.value.style==="trade_wave"?(s(),a("div",{key:0,class:p(["mb-8 p-6 rounded-2xl animate-in fade-in slide-in-from-top-4 duration-300",n.value.style==="hollywood_hype"?"bg-red-50/50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30":"bg-emerald-50/50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30"])},[e("div",Bt,[e("div",{class:p(["w-8 h-8 rounded-lg flex items-center justify-center",n.value.style==="hollywood_hype"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"])},[...t[15]||(t[15]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})],-1)])],2),e("h3",{class:p(["font-bold",n.value.style==="hollywood_hype"?"text-red-900 dark:text-red-200":"text-emerald-900 dark:text-emerald-200"])},c(n.value.style==="hollywood_hype"?"Hollywood News":"Market Updates"),3)]),e("div",Tt,[M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.value.search_query=o),type:"text",class:p(["flex-1 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 transition-all shadow-sm dark:text-white",n.value.style==="hollywood_hype"?"focus:ring-red-500":"focus:ring-emerald-500"]),placeholder:n.value.style==="hollywood_hype"?"e.g. Dakota Johnson latest news...":"e.g. Bitcoin price action today..."},null,10,zt),[[V,n.value.search_query]]),e("button",{onClick:R,disabled:i.value,class:p(["px-6 py-3 rounded-xl font-bold text-white transition-all shadow-md disabled:opacity-50",n.value.style==="hollywood_hype"?"bg-red-600 hover:bg-red-700":"bg-emerald-600 hover:bg-emerald-700"])},[e("div",St,[i.value?(s(),a("svg",At,[...t[16]||(t[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):u("",!0),t[17]||(t[17]=e("span",null,"Search",-1))])],10,Ht)]),x.value.length>0?(s(),a("div",Lt,[(s(!0),a(w,null,j(x.value,(o,$)=>(s(),a("div",{key:$,onClick:bo=>G(o),class:"p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl cursor-pointer hover:shadow-md transition-all group"},[e("p",Ft,c(o.title),1),e("p",It,c(o.snippet),1)],8,Et))),128))])):u("",!0)],2)):u("",!0),e("div",Ut,[e("div",Pt,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Video Format",-1)),e("div",Dt,[(s(),a(w,null,j(["16:9","9:16"],o=>e("button",{key:o,onClick:$=>n.value.aspect_ratio=o,class:p(["flex-1 py-2 text-sm font-bold rounded-lg transition-all",n.value.aspect_ratio===o?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])},c(o==="16:9"?"Landscape":"Shorts"),11,Yt)),64))])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Story Title",-1)),M(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value.title=o),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all dark:text-white",placeholder:"A magical journey through..."},null,512),[[V,n.value.title]])])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"The Story",-1)),M(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.value.content=o),rows:"5",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all dark:text-white",placeholder:"Tell your story in detail... (minimum 10 characters)"},null,512),[[V,n.value.content]])]),e("div",qt,[e("button",{onClick:t[3]||(t[3]=o=>B.value=!B.value),class:"w-full px-6 py-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[t[22]||(t[22]=e("div",{class:"flex items-center space-x-3 text-slate-700 dark:text-slate-200 font-bold"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]),e("span",null,"YouTube Automations")],-1)),(s(),a("svg",{class:p([{"rotate-180":B.value},"w-5 h-5 text-slate-400 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),M(e("div",Nt,[r.value.length>0?(s(),a("div",Ot,[t[23]||(t[23]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase tracking-wider mb-2"},"Target Channel",-1)),e("div",Rt,[(s(!0),a(w,null,j(r.value,o=>(s(),a("div",{key:o.id,onClick:$=>n.value.youtube_token_id=o.id,class:p(["flex items-center p-3 border rounded-xl cursor-pointer transition-all",n.value.youtube_token_id===o.id?"border-red-500 bg-red-50 dark:bg-red-900/20 ring-2 ring-red-100 dark:ring-red-900/40":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-red-300 dark:hover:border-red-900/60"])},[e("img",{src:o.channel_thumbnail,class:"w-8 h-8 rounded-full shadow-sm mr-3"},null,8,Wt),e("span",Jt,c(o.channel_title),1)],10,Gt))),128))])])):u("",!0),e("div",Zt,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"YouTube Title",-1)),M(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n.value.youtube_title=o),type:"text",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"Default: Story Title"},null,512),[[V,n.value.youtube_title]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"Tags",-1)),M(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>n.value.youtube_tags=o),type:"text",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"story, ai, animation"},null,512),[[V,n.value.youtube_tags]])])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"Description",-1)),M(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>n.value.youtube_description=o),rows:"2",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"Default: Story Content"},null,512),[[V,n.value.youtube_description]])])],512),[[U,B.value]])])]),e("div",Kt,[e("button",{onClick:N,disabled:_.value||g.value,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-2xl transition-all shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 flex items-center justify-center space-x-2"},[_.value?(s(),a("svg",Xt,[...t[27]||(t[27]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):u("",!0),e("span",null,c(_.value?"Processing...":"Generate Video"),1)],8,Qt),e("button",{onClick:O,disabled:_.value||g.value,class:"flex-1 bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 dark:hover:bg-slate-600 text-white font-bold py-4 px-8 rounded-2xl transition-all shadow-lg shadow-slate-200 dark:shadow-none disabled:opacity-50 flex items-center justify-center space-x-2"},[g.value?(s(),a("svg",to,[...t[28]||(t[28]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(s(),a("svg",oo,[...t[29]||(t[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),e("span",null,c(g.value?"AI is Writing...":"AI: Draft Story"),1)],8,eo)])])])]),e("div",so,[t[32]||(t[32]=A('<div class="bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6"><h3 class="font-bold text-slate-800 dark:text-white mb-4 flex items-center"><svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Tips for Success </h3><ul class="space-y-4"><li class="flex items-start space-x-3 text-sm"><div class="w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold">1</div><p class="text-slate-600 dark:text-slate-400">Be descriptive in your story content for better AI visualization.</p></li><li class="flex items-start space-x-3 text-sm"><div class="w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold">2</div><p class="text-slate-600 dark:text-slate-400">Use &quot;Shorts&quot; format for TikTok, Reels, and YouTube Shorts.</p></li><li class="flex items-start space-x-3 text-sm"><div class="w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold">3</div><p class="text-slate-600 dark:text-slate-400">Connect your YouTube channel to automate uploads.</p></li></ul></div>',1)),r.value.length===0?(s(),a("div",lo,[...t[31]||(t[31]=[e("h3",{class:"font-bold mb-2"},"Grow your channel",-1),e("p",{class:"text-indigo-100 text-sm mb-4 leading-relaxed"},"Connect your YouTube account to automatically upload your generated videos with AI-optimized metadata.",-1),e("a",{href:"/youtube/auth",class:"block w-full text-center bg-white text-indigo-600 font-bold py-3 rounded-xl hover:bg-indigo-50 transition-colors"}," Connect YouTube ",-1)])])):u("",!0)])]),y.value.length>0?(s(),a("section",ro,[e("div",ao,[t[33]||(t[33]=e("div",null,[e("h2",{class:"text-3xl font-bold text-slate-900 dark:text-white"},"Your Gallery"),e("p",{class:"text-slate-500 dark:text-slate-400"},"View and manage your generated videos")],-1)),e("div",no,c(y.value.length)+" Total Stories ",1)]),e("div",io,[(s(!0),a(w,null,j(y.value,o=>(s(),D(qe,{key:o.id,story:o,onRegenerate:W,onDelete:J,onUpload:Z,onUploadFacebook:K},null,8,["story"]))),128))]),v.value&&v.value.last_page>1?(s(),a("div",uo,[(s(!0),a(w,null,j(v.value.links,o=>(s(),a("button",{key:o.label,onClick:$=>o.url?T(parseInt(o.url.match(/page=(\d+)/)?.[1]||1)):null,disabled:!o.url||o.active,class:p(["px-4 py-2 rounded-xl text-sm font-bold transition-all border shadow-sm flex items-center justify-center min-w-[40px]",[o.active?"bg-indigo-600 border-indigo-600 text-white":o.url?"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 hover:border-indigo-500 hover:text-indigo-600":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-300 dark:text-slate-600 cursor-not-allowed"]]),innerHTML:o.label},null,10,co))),128))])):u("",!0)])):u("",!0)]),F(st,{show:z.value,story:h.value,channels:r.value,onClose:t[7]||(t[7]=o=>z.value=!1),onConfirm:Q},null,8,["show","story","channels"])])],64))}};export{vo as default};
