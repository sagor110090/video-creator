import{r as n,o as _,e as h,a as s,w as b,b as p,d as t,u as y,h as w,c as o,t as l,F as v,i as m,n as c,l as S,m as j}from"./app-OAIXZfUj.js";import{A as C}from"./AppLayout-DgAo-hbn.js";const D={class:"flex items-center gap-2"},T={class:"flex gap-1"},B=["onClick"],N={class:"space-y-6"},U={key:0,class:"flex justify-center items-center py-20"},V={key:1,class:"space-y-6"},A={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},L={class:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm"},z={class:"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mb-1"},E={class:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm"},F={class:"text-3xl font-bold text-red-600 dark:text-red-400 mb-1"},Y={class:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm"},$={class:"text-3xl font-bold text-violet-600 dark:text-violet-400 mb-1"},H={class:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden"},M={class:"divide-y divide-slate-200 dark:divide-slate-800"},O={class:"flex items-center justify-between mb-3"},q={class:"flex items-center gap-3"},G={class:"text-sm font-semibold text-slate-800 dark:text-white"},I={class:"flex items-center gap-2"},J={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},K={key:0,class:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0"},P=["src"],Q={class:"flex-1 min-w-0"},R={class:"text-sm font-medium text-slate-800 dark:text-white truncate"},W={class:"text-xs text-slate-500 dark:text-slate-400 capitalize"},X={class:"flex items-center gap-1"},Z={key:1,class:"text-sm text-slate-400 dark:text-slate-600 italic"},at={__name:"Statistics",setup(tt){const x=n(!0),u=n(30),g=n([]),i=n({total_videos:0,youtube_videos:0,total_channels:0}),k=async()=>{x.value=!0;try{const r=await j.get(`/api/statistics?days=${u.value}`);g.value=r.data.daily_stats,i.value=r.data.summary}catch(r){console.error("Error fetching statistics:",r)}finally{x.value=!1}},f=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return _(()=>{k()}),(r,e)=>(s(),h(C,null,{header:b(()=>[...e[0]||(e[0]=[S(" Statistics ",-1)])]),actions:b(()=>[t("div",D,[e[1]||(e[1]=t("span",{class:"text-sm font-semibold text-slate-600 dark:text-slate-400"},"Show last:",-1)),t("div",T,[(s(),o(v,null,m([7,14,30,60,90],a=>t("button",{key:a,onClick:d=>{u.value=a,k()},class:c(["px-3 py-1.5 rounded-md text-xs font-bold transition-all",u.value===a?"bg-indigo-600 text-white shadow-sm":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"])},l(a)+" days ",11,B)),64))])])]),default:b(()=>[p(y(w),{title:"Statistics"}),t("div",N,[e[8]||(e[8]=t("div",null,[t("h2",{class:"text-lg font-medium text-slate-900 dark:text-white"},"Upload Overview"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Track your video uploads across platforms")],-1)),x.value?(s(),o("div",U,[...e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"},null,-1)])])):(s(),o("div",V,[t("div",A,[t("div",L,[t("div",z,l(i.value.total_videos),1),e[3]||(e[3]=t("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Total Videos",-1))]),t("div",E,[t("div",F,l(i.value.youtube_videos),1),e[4]||(e[4]=t("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"YouTube Uploads",-1))]),t("div",Y,[t("div",$,l(i.value.total_channels),1),e[5]||(e[5]=t("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"YouTube Channels",-1))])]),t("div",H,[e[7]||(e[7]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50"},[t("h3",{class:"font-bold text-slate-800 dark:text-white"},"Daily Upload History")],-1)),t("div",M,[(s(!0),o(v,null,m(g.value,a=>(s(),o("div",{key:a.date,class:"px-6 py-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("div",O,[t("div",q,[t("span",G,l(f(a.date)),1)]),t("div",I,[t("span",{class:c(["text-2xl font-bold",a.total>0?"text-indigo-600 dark:text-indigo-400":"text-slate-400"])},l(a.total),3),e[6]||(e[6]=t("span",{class:"text-xs text-slate-500 dark:text-slate-400"},"videos",-1))])]),a.channels.length>0?(s(),o("div",J,[(s(!0),o(v,null,m(a.channels,d=>(s(),o("div",{key:d.name,class:"flex items-center gap-3 p-2 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700"},[d.thumbnail?(s(),o("div",K,[t("img",{src:d.thumbnail,class:"w-full h-full object-cover"},null,8,P)])):(s(),o("div",{key:1,class:c(["w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center text-white font-bold text-xs",d.type==="youtube"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-blue-500 to-blue-600"])},l(d.name.charAt(0)),3)),t("div",Q,[t("div",R,l(d.name),1),t("div",W,l(d.type),1)]),t("div",X,[t("div",{class:c(["w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",d.type==="youtube"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"])},l(d.count),3)])]))),128))])):(s(),o("div",Z,"No uploads"))]))),128))])])]))])]),_:1}))}};export{at as default};
