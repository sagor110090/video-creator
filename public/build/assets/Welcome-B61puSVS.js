import{r as f,o as N,q as W,f as d,a,e,g as c,F as M,k as w,s as O,n as h,t as x,i as T,m as E,x as F,c as I,v as B,T as J,d as Z,w as Y,b as P,u as K,h as Q,p as j}from"./app-3AXVBd-T.js";import{A as X}from"./AppLayout-3PL2ytlH.js";import{S as q}from"./sweetalert2.esm.all-BQxta0Da.js";const ee={class:"relative rounded-t-2xl overflow-hidden bg-slate-900 dark:bg-black aspect-video flex items-center justify-center"},te={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-800 animate-pulse"},se=["src"],oe={key:2,class:"absolute inset-0 flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-800"},le=["href"],re={key:1,class:"absolute inset-0 bg-slate-900/80 dark:bg-black/80 flex flex-col items-center justify-center p-6 text-center"},ae={class:"text-indigo-300 text-[10px] uppercase tracking-widest"},de={key:2,class:"absolute inset-0 bg-red-900/20 dark:bg-red-900/40 flex flex-col items-center justify-center"},ne={class:"text-red-700 dark:text-red-400 font-bold"},ie={class:"absolute top-4 right-4 flex space-x-2"},ue={class:"p-6 flex-1 flex flex-col"},ce={class:"flex justify-between items-start mb-3"},be={class:"font-bold text-slate-900 dark:text-white line-clamp-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},xe={class:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-6 leading-relaxed"},ge={class:"mt-auto space-y-4"},ve={key:0,class:"grid grid-cols-4 gap-1"},fe={key:1,class:"space-y-3"},he={class:"flex items-center justify-between text-xs"},pe={class:"flex items-center space-x-2"},ye={class:"flex items-center space-x-1.5 bg-indigo-50 dark:bg-indigo-900/30 px-2.5 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-900/50"},ke=["title"],me={key:0,class:"flex items-center space-x-1.5 bg-emerald-50 dark:bg-emerald-900/30 px-2.5 py-1.5 rounded-lg border border-emerald-100 dark:border-emerald-900/50"},we={class:"text-emerald-600 dark:text-emerald-400 font-semibold"},_e={class:"flex items-center space-x-1.5 bg-slate-100 dark:bg-slate-800 px-2.5 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700"},Ce={class:"text-slate-600 dark:text-slate-400 font-semibold uppercase"},$e={class:"grid grid-cols-2 gap-2"},Me=["href"],Ve={key:2,class:"col-span-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg"},je={class:"text-[10px] text-red-600 dark:text-red-400 leading-tight"},Te={key:3,class:"col-span-2"},Be={key:0,class:"w-full flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-xl border border-blue-100 dark:border-blue-900/30"},ze={class:"flex items-center"},Le=["src"],Se=["href"],He={key:1,class:"w-full flex items-center justify-center p-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 rounded-xl border border-yellow-100 dark:border-yellow-900/30"},Ae={__name:"StoryCard",props:{story:{type:Object,required:!0}},emits:["regenerate","delete","upload"],setup(o,{emit:k}){const _=o,p=k,b=f(!1),m=f(!1),v=f(null),n=f(!1);let u=null;const L=()=>{b.value=!0,n.value=!1},D=()=>{n.value=!0,console.error("Video failed to load:","/storage/"+_.story.video_path)};N(()=>{u=new IntersectionObserver(g=>{g[0].isIntersecting&&(m.value=!0,u.disconnect())},{rootMargin:"100px",threshold:.01}),v.value&&u.observe(v.value)}),W(()=>{u&&u.disconnect()});const y=g=>{switch(g){case"completed":return"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400";case"processing":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400";case"pending":return"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400";case"failed":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";default:return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-400"}},S=g=>{if(!g)return"";const r=new Date(g),z=Math.abs(new Date-r),V=Math.floor(z/(1e3*60*60*24));if(V===0){const H=Math.floor(z/36e5);if(H===0){const U=Math.floor(z/6e4);return U===0?"Just now":`${U}m ago`}return`${H}h ago`}else return V===1?"Yesterday":V<7?`${V} days ago`:r.toLocaleDateString("en-US",{month:"short",day:"numeric"})},l=g=>g?new Date(g).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",C=g=>{if(g.status!=="completed"||!g.created_at||!g.updated_at)return null;const r=new Date(g.created_at),z=new Date(g.updated_at)-r,V=Math.floor(z/6e4),H=Math.floor(z%6e4/1e3);return V>0?`${V}m ${H}s`:`${H}s`};return(g,r)=>(a(),d("div",{ref_key:"cardRef",ref:v,class:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-xl transition-all duration-300 group flex flex-col h-full"},[e("div",ee,[o.story.status==="completed"&&o.story.video_path?(a(),d(M,{key:0},[!b.value||!m.value?(a(),d("div",te,[...r[4]||(r[4]=[e("svg",{class:"w-10 h-10 text-slate-300 dark:text-slate-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),e("span",{class:"text-[10px] text-slate-400 font-medium uppercase tracking-wider"},"Loading Preview...",-1)])])):c("",!0),m.value?w((a(),d("video",{key:1,onLoadeddata:L,onError:D,controls:"",preload:"metadata",playsinline:"",class:h(["w-full h-full object-contain",o.story.aspect_ratio==="9:16"?"max-w-[180px] mx-auto":""])},[e("source",{src:"/storage/"+o.story.video_path,type:"video/mp4"},null,8,se)],34)),[[O,b.value&&!n.value]]):c("",!0),n.value?(a(),d("div",oe,[r[5]||(r[5]=e("svg",{class:"w-10 h-10 text-red-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),r[6]||(r[6]=e("p",{class:"text-red-600 dark:text-red-400 text-sm font-medium"},"Video failed to load",-1)),e("a",{href:"/storage/"+o.story.video_path,target:"_blank",class:"mt-2 text-indigo-600 dark:text-indigo-400 text-xs underline"},"Open in new tab",8,le)])):c("",!0)],64)):c("",!0),o.story.status==="processing"||o.story.status==="pending"?(a(),d("div",re,[r[7]||(r[7]=e("div",{class:"relative w-16 h-16 mb-4"},[e("div",{class:"absolute inset-0 rounded-full border-4 border-indigo-500/20"}),e("div",{class:"absolute inset-0 rounded-full border-4 border-indigo-500 border-t-transparent animate-spin"})],-1)),r[8]||(r[8]=e("h4",{class:"text-white font-bold mb-1"},"AI is working...",-1)),e("p",ae,x(o.story.scenes_count>0?"Parsing Scenes":"Initializing"),1)])):c("",!0),o.story.status==="failed"||o.story.status==="completed"&&!o.story.video_path?(a(),d("div",de,[r[9]||(r[9]=e("svg",{class:"w-12 h-12 text-red-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",ne,x(o.story.status==="completed"?"Video Missing":"Generation Failed"),1)])):c("",!0),e("div",ie,[o.story.status==="completed"||o.story.status==="failed"?(a(),d("button",{key:0,onClick:r[0]||(r[0]=$=>p("regenerate",o.story)),class:"p-2 bg-white/10 hover:bg-indigo-500 text-white rounded-lg backdrop-blur-md transition-all group/btn",title:"Regenerate Video"},[...r[10]||(r[10]=[e("svg",{class:"w-4 h-4 group-hover/btn:rotate-180 transition-transform duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):c("",!0),e("button",{onClick:r[1]||(r[1]=$=>p("delete",o.story)),class:"p-2 bg-white/10 hover:bg-red-500 text-white rounded-lg backdrop-blur-md transition-all",title:"Delete Story"},[...r[11]||(r[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),e("div",ue,[e("div",ce,[e("h3",be,x(o.story.title||"Untitled Story"),1),e("span",{class:h([y(o.story.status),"text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider"])},x(o.story.status),3)]),e("p",xe,x(o.story.content),1),e("div",ge,[o.story.status==="processing"||o.story.status==="pending"?(a(),d("div",ve,[(a(),d(M,null,T(4,$=>e("div",{key:$,class:h(["h-1 rounded-full",o.story.scenes_count>=$?"bg-indigo-500":"bg-slate-100 dark:bg-slate-800"])},null,2)),64))])):c("",!0),o.story.status==="completed"?(a(),d("div",fe,[e("div",he,[e("div",pe,[e("div",ye,[r[12]||(r[12]=e("svg",{class:"w-3.5 h-3.5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",{class:"text-indigo-600 dark:text-indigo-400 font-semibold",title:l(o.story.created_at)},x(S(o.story.created_at)),9,ke)]),C(o.story)?(a(),d("div",me,[r[13]||(r[13]=e("svg",{class:"w-3.5 h-3.5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),e("span",we,x(C(o.story)),1)])):c("",!0)]),e("div",_e,[r[14]||(r[14]=e("svg",{class:"w-3.5 h-3.5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",Ce,x(o.story.aspect_ratio),1)])]),e("div",$e,[e("a",{href:"/storage/"+o.story.video_path,download:"",class:h([o.story.youtube_upload_status==="failed"?"col-span-1":"","flex items-center justify-center space-x-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold py-2 rounded-xl transition-all text-sm"])},[...r[15]||(r[15]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),e("span",null,"Save",-1)])],10,Me),o.story.youtube_upload_status==="failed"?(a(),d("button",{key:0,onClick:r[2]||(r[2]=$=>p("upload",o.story)),class:"col-span-1 flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[16]||(r[16]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"Retry YT",-1)])])):o.story.youtube_upload_status?c("",!0):(a(),d("button",{key:1,onClick:r[3]||(r[3]=$=>p("upload",o.story)),class:"flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-xl transition-all text-sm"},[...r[17]||(r[17]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"YouTube",-1)])])),o.story.youtube_upload_status==="failed"&&o.story.youtube_error?(a(),d("div",Ve,[e("p",je,[r[18]||(r[18]=e("span",{class:"font-bold"},"YT Error:",-1)),E(" "+x(o.story.youtube_error),1)])])):c("",!0),o.story.youtube_upload_status&&o.story.youtube_upload_status!=="failed"?(a(),d("div",Te,[o.story.youtube_upload_status==="completed"?(a(),d("div",Be,[e("div",ze,[e("img",{src:o.story.youtube_channel?.channel_thumbnail,class:"w-5 h-5 rounded-full mr-2"},null,8,Le),r[19]||(r[19]=e("span",{class:"text-[10px] font-bold"},"LIVE ON YOUTUBE",-1))]),e("a",{href:"https://youtube.com/watch?v="+o.story.youtube_video_id,target:"_blank",class:"text-[10px] underline font-bold"},"WATCH",8,Se)])):o.story.youtube_upload_status==="uploading"?(a(),d("div",He,[...r[20]||(r[20]=[e("svg",{class:"animate-spin h-3 w-3 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",{class:"text-[10px] font-bold"},"UPLOADING TO YOUTUBE...",-1)])])):c("",!0)])):c("",!0)])])):c("",!0)])])],512))}},De={key:0,class:"fixed inset-0 z-[100] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ue={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ee={class:"inline-block align-bottom bg-white dark:bg-slate-900 rounded-3xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full relative z-10"},Ye={class:"bg-white dark:bg-slate-900 px-6 pt-6 pb-8"},Ie={class:"flex items-center justify-between mb-6"},Pe={class:"space-y-5"},qe={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl flex items-start space-x-3"},Ne={class:"text-xs text-red-700 dark:text-red-400 mt-1 leading-relaxed"},Oe={class:"grid grid-cols-2 gap-3"},Fe=["onClick"],Re=["src"],Ge={class:"text-xs font-bold truncate text-slate-700 dark:text-slate-300"},We={class:"bg-slate-50 dark:bg-slate-800/50 px-6 py-4 flex flex-row-reverse space-x-3 space-x-reverse"},Je={__name:"PublishModal",props:{show:Boolean,story:Object,channels:Array},emits:["close","confirm"],setup(o,{emit:k}){const _=o,p=k,b=f({youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null});F(()=>_.story,v=>{v&&(b.value={youtube_title:v.youtube_title||v.title||"",youtube_description:v.youtube_description||v.content||"",youtube_tags:v.youtube_tags||"ai, story, animation",youtube_token_id:v.youtube_token_id||(_.channels.length>0?_.channels[0].id:null)})},{immediate:!0});const m=()=>{p("confirm",{...b.value})};return(v,n)=>(a(),I(J,{to:"body"},[o.show?(a(),d("div",De,[e("div",Ue,[e("div",{onClick:n[0]||(n[0]=u=>p("close")),class:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm transition-opacity","aria-hidden":"true"}),n[15]||(n[15]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",Ee,[e("div",Ye,[e("div",Ie,[n[7]||(n[7]=e("h3",{class:"text-2xl font-bold text-slate-900 dark:text-white",id:"modal-title"},"Publish to YouTube",-1)),e("button",{onClick:n[1]||(n[1]=u=>p("close")),class:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors"},[...n[6]||(n[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Pe,[o.story?.youtube_error?(a(),d("div",qe,[n[9]||(n[9]=e("svg",{class:"w-5 h-5 text-red-500 mt-0.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[n[8]||(n[8]=e("h4",{class:"text-sm font-bold text-red-800 dark:text-red-300"},"Previous Upload Failed",-1)),e("p",Ne,x(o.story.youtube_error),1)])])):c("",!0),e("div",null,[n[10]||(n[10]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Select Channel",-1)),e("div",Oe,[(a(!0),d(M,null,T(o.channels,u=>(a(),d("div",{key:u.id,onClick:L=>b.value.youtube_token_id=u.id,class:h(["flex items-center p-3 border rounded-xl cursor-pointer transition-all",b.value.youtube_token_id===u.id?"border-red-500 bg-red-50 dark:bg-red-900/20 ring-2 ring-red-100 dark:ring-red-900/40":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-red-300"])},[e("img",{src:u.channel_thumbnail,class:"w-8 h-8 rounded-full shadow-sm mr-3"},null,8,Re),e("span",Ge,x(u.channel_title),1)],10,Fe))),128))])]),e("div",null,[n[11]||(n[11]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"YouTube Title",-1)),w(e("input",{"onUpdate:modelValue":n[2]||(n[2]=u=>b.value.youtube_title=u),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Enter a catchy title..."},null,512),[[B,b.value.youtube_title]])]),e("div",null,[n[12]||(n[12]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Tags (comma separated)",-1)),w(e("input",{"onUpdate:modelValue":n[3]||(n[3]=u=>b.value.youtube_tags=u),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"ai, story, animation..."},null,512),[[B,b.value.youtube_tags]])]),e("div",null,[n[13]||(n[13]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Description",-1)),w(e("textarea",{"onUpdate:modelValue":n[4]||(n[4]=u=>b.value.youtube_description=u),rows:"4",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition-all text-sm text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Enter video description..."},null,512),[[B,b.value.youtube_description]])])])]),e("div",We,[e("button",{onClick:m,class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition-all shadow-lg shadow-red-100 dark:shadow-none flex items-center justify-center space-x-2"},[...n[14]||(n[14]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1),e("span",null,"Start Upload",-1)])]),e("button",{onClick:n[5]||(n[5]=u=>p("close")),class:"flex-1 bg-white hover:bg-slate-50 text-slate-700 font-bold py-3 px-6 rounded-xl border border-slate-200 transition-all"}," Cancel ")])])])])):c("",!0)]))}},Ze={class:"flex items-center gap-3"},Ke={key:0,class:"hidden lg:flex items-center -space-x-2.5 pr-3 border-r border-slate-200 dark:border-slate-700"},Qe={class:"flex items-center -space-x-2.5"},Xe=["src","title"],et={key:0,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 flex items-center justify-center bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-bold"},tt={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},st={class:"lg:col-span-8 space-y-8"},ot={class:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden"},lt={class:"p-6 md:p-8"},rt={class:"mb-8"},at={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},dt=["onClick"],nt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},it=["d"],ut={class:"text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300"},ct={class:"flex items-center space-x-2 mb-4"},bt={class:"flex space-x-2 mb-4"},xt=["placeholder"],gt=["disabled"],vt={class:"flex items-center space-x-2"},ft={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},ht={key:0,class:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar"},pt=["onClick"],yt={class:"font-bold text-slate-800 dark:text-slate-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 mb-1"},kt={class:"text-sm text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed"},mt={class:"space-y-6"},wt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_t={class:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl"},Ct=["onClick"],$t={class:"border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/50"},Mt={class:"px-6 pb-6 space-y-4"},Vt={key:0},jt={class:"grid grid-cols-2 md:grid-cols-3 gap-3"},Tt=["onClick"],Bt=["src"],zt={class:"text-xs font-bold truncate text-slate-700 dark:text-slate-200"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},St={class:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-10"},Ht=["disabled"],At={key:0,class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},Dt=["disabled"],Ut={key:0,class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},Et={key:1,class:"w-5 h-5 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Yt={class:"lg:col-span-4 space-y-6"},It={key:0,class:"bg-indigo-600 rounded-2xl shadow-lg p-6 text-white"},Pt={key:0,class:"mt-20"},qt={class:"flex items-center justify-between mb-8"},Nt={class:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400"},Ot={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8"},Ft={key:0,class:"mt-12 flex justify-center items-center space-x-2"},Rt=["onClick","disabled","innerHTML"],Kt={__name:"Welcome",props:{auth:Object},setup(o){const k=Z.useToast(),_=f([]),p=f(null),b=f(!1),m=f(!1),v=f(!1),n=f([]),u=f(!1),L=f(!1),D=f(null),y=f([]),S=f(!1),l=f({title:"",content:"",style:"story",aspect_ratio:"16:9",youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null,search_query:""}),C=async(i=1)=>{try{const t=await j.get(`/api/stories?page=${i}`);_.value=t.data.data,p.value=t.data}catch(t){console.error("Error fetching stories:",t)}},g=async()=>{try{const i=await j.get("/api/youtube/channels");y.value=i.data}catch(i){console.error("Error fetching channels:",i)}};N(()=>{S.value=document.documentElement.classList.contains("dark"),C(),g(),setInterval(()=>C(p.value?.current_page||1),5e3)}),F(()=>l.value.style,i=>{if(y.value.length===0)return;let t="";if(i==="science_short"?t="The 60s Lab":i==="hollywood_hype"?t="Hollywood Hype":i==="trade_wave"&&(t="TradeWave"),t){const s=y.value.find(A=>A.channel_title.includes(t));s&&(l.value.youtube_token_id=s.id)}});const r=async()=>{if(!l.value.content||l.value.content.length<10){k.error("Please provide a longer story description.");return}b.value=!0;try{await j.post("/api/stories",l.value),k.success("Story created successfully!"),l.value={title:"",content:"",style:"story",aspect_ratio:"16:9",youtube_title:"",youtube_description:"",youtube_tags:"",youtube_token_id:null,search_query:""},C()}catch(i){console.error("Error creating story:",i)}finally{b.value=!1}},$=async()=>{m.value=!0;try{const i=await j.post("/api/ai/generate-story",{title:l.value.title||"a random interesting story",style:l.value.style,aspect_ratio:l.value.aspect_ratio});!l.value.title&&i.data.title&&(l.value.title=i.data.title),l.value.content=i.data.content,l.value.youtube_title=i.data.youtube_title||i.data.title,l.value.youtube_description=i.data.youtube_description||i.data.content,l.value.youtube_tags=i.data.youtube_tags||"ai, story, animation",u.value=!0}catch(i){console.error("Error generating story:",i)}finally{m.value=!1}},z=async()=>{if(l.value.search_query){v.value=!0;try{const i=await j.post("/api/ai/search-news",{query:l.value.search_query,style:l.value.style});n.value=i.data}catch(i){console.error("Error searching news:",i)}finally{v.value=!1}}},V=i=>{l.value.title=i.title,l.value.content=i.snippet,n.value=[]},H=async i=>{if((await q.fire({title:"Regenerate Video?",text:"Re-run AI generation for this story? Existing video will be replaced.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#64748b",confirmButtonText:"Yes, regenerate it!",background:S.value?"#0f172a":"#ffffff",color:S.value?"#f8fafc":"#0f172a"})).isConfirmed)try{i.status="pending",await j.post(`/api/stories/${i.id}/regenerate`),k.info("Video regeneration started."),C()}catch(s){console.error("Error regenerating story:",s),k.error("Failed to regenerate video.")}},U=async i=>{if((await q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#64748b",confirmButtonText:"Yes, delete it!",background:S.value?"#0f172a":"#ffffff",color:S.value?"#f8fafc":"#0f172a"})).isConfirmed)try{await j.delete(`/api/stories/${i.id}`),k.success("Story deleted."),C()}catch(s){console.error("Error deleting story:",s),k.error("Failed to delete story.")}},R=i=>{D.value=i,L.value=!0},G=async i=>{try{L.value=!1,await j.patch(`/api/stories/${D.value.id}`,i),await j.post(`/api/stories/${D.value.id}/upload`),k.success("Upload queued successfully!"),C()}catch(t){console.error("Error publishing story:",t),k.error("Failed to start upload. Please try again.")}};return(i,t)=>(a(),I(X,null,{header:Y(()=>[...t[8]||(t[8]=[E(" Dashboard ",-1)])]),actions:Y(()=>[e("div",Ze,[y.value.length>0?(a(),d("div",Ke,[e("div",Qe,[(a(!0),d(M,null,T(y.value.slice(0,4),s=>(a(),d("img",{key:"yt-"+s.id,src:s.channel_thumbnail,title:s.channel_title,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-800 ring-2 ring-slate-100 dark:ring-slate-700 cursor-pointer transition-all hover:scale-110 hover:z-10 hover:ring-indigo-400"},null,8,Xe))),128)),y.value.length>4?(a(),d("div",et," +"+x(y.value.length-4),1)):c("",!0)])])):c("",!0),t[9]||(t[9]=e("a",{href:"/youtube/auth",class:"group flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900 dark:bg-slate-100 hover:bg-slate-800 dark:hover:bg-white text-white dark:text-slate-900 transition-all duration-200 hover:shadow-lg hover:shadow-slate-200 dark:hover:shadow-none text-xs font-bold",title:"Connect YouTube"},[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]),E(" YouTube ")],-1))])]),default:Y(()=>[P(K(Q),{title:"Dashboard"}),e("div",tt,[e("div",st,[e("div",ot,[e("div",lt,[t[26]||(t[26]=e("div",{class:"flex items-center justify-between mb-8"},[e("h2",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"Create New Story"),e("span",{class:"text-xs font-semibold px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full"},"AI-Powered")],-1)),e("div",rt,[t[10]||(t[10]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-4"},"Choose your style",-1)),e("div",at,[(a(),d(M,null,T([{id:"story",name:"General Story",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5S19.832 5.477 21 6.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"blue"},{id:"science_short",name:"60s Lab",icon:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.691.34a2 2 0 01-1.782 0l-.691-.34a6 6 0 00-3.86-.517l-2.387.477a2 2 0 00-1.022.547V18a2 2 0 002 2h12a2 2 0 002-2v-2.572zM12 11V3.5",color:"purple"},{id:"hollywood_hype",name:"Hollywood",icon:"M7 4V20M17 4V20M3 8H7M17 8H21M3 12H21M3 16H7M17 16H21M4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20Z",color:"red"},{id:"trade_wave",name:"TradeWave",icon:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z",color:"green"}],s=>e("div",{key:s.id,onClick:A=>l.value.style=s.id,class:h(["cursor-pointer p-4 rounded-xl border-2 transition-all flex flex-col items-center text-center space-y-3",l.value.style===s.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 shadow-sm":"border-slate-100 dark:border-slate-800 hover:border-slate-200 dark:hover:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50"])},[e("div",{class:h(["w-10 h-10 rounded-lg flex items-center justify-center",l.value.style===s.id?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"])},[(a(),d("svg",nt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,it)]))],2),e("span",ut,x(s.name),1)],10,dt)),64))])]),l.value.style==="hollywood_hype"||l.value.style==="trade_wave"?(a(),d("div",{key:0,class:h(["mb-8 p-6 rounded-2xl animate-in fade-in slide-in-from-top-4 duration-300",l.value.style==="hollywood_hype"?"bg-red-50/50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30":"bg-emerald-50/50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/30"])},[e("div",ct,[e("div",{class:h(["w-8 h-8 rounded-lg flex items-center justify-center",l.value.style==="hollywood_hype"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"])},[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})],-1)])],2),e("h3",{class:h(["font-bold",l.value.style==="hollywood_hype"?"text-red-900 dark:text-red-200":"text-emerald-900 dark:text-emerald-200"])},x(l.value.style==="hollywood_hype"?"Hollywood News":"Market Updates"),3)]),e("div",bt,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search_query=s),type:"text",class:h(["flex-1 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 transition-all shadow-sm dark:text-white",l.value.style==="hollywood_hype"?"focus:ring-red-500":"focus:ring-emerald-500"]),placeholder:l.value.style==="hollywood_hype"?"e.g. Dakota Johnson latest news...":"e.g. Bitcoin price action today..."},null,10,xt),[[B,l.value.search_query]]),e("button",{onClick:z,disabled:v.value,class:h(["px-6 py-3 rounded-xl font-bold text-white transition-all shadow-md disabled:opacity-50",l.value.style==="hollywood_hype"?"bg-red-600 hover:bg-red-700":"bg-emerald-600 hover:bg-emerald-700"])},[e("div",vt,[v.value?(a(),d("svg",ft,[...t[12]||(t[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),t[13]||(t[13]=e("span",null,"Search",-1))])],10,gt)]),n.value.length>0?(a(),d("div",ht,[(a(!0),d(M,null,T(n.value,(s,A)=>(a(),d("div",{key:A,onClick:Gt=>V(s),class:"p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl cursor-pointer hover:shadow-md transition-all group"},[e("p",yt,x(s.title),1),e("p",kt,x(s.snippet),1)],8,pt))),128))])):c("",!0)],2)):c("",!0),e("div",mt,[e("div",wt,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Video Format",-1)),e("div",_t,[(a(),d(M,null,T(["16:9","9:16"],s=>e("button",{key:s,onClick:A=>l.value.aspect_ratio=s,class:h(["flex-1 py-2 text-sm font-bold rounded-lg transition-all",l.value.aspect_ratio===s?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"])},x(s==="16:9"?"Landscape":"Shorts"),11,Ct)),64))])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"Story Title",-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.title=s),type:"text",class:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all dark:text-white",placeholder:"A magical journey through..."},null,512),[[B,l.value.title]])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-slate-700 dark:text-slate-300 text-sm font-semibold mb-2"},"The Story",-1)),w(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.content=s),rows:"5",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all dark:text-white",placeholder:"Tell your story in detail... (minimum 10 characters)"},null,512),[[B,l.value.content]])]),e("div",$t,[e("button",{onClick:t[3]||(t[3]=s=>u.value=!u.value),class:"w-full px-6 py-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[t[18]||(t[18]=e("div",{class:"flex items-center space-x-3 text-slate-700 dark:text-slate-200 font-bold"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]),e("span",null,"YouTube Automations")],-1)),(a(),d("svg",{class:h([{"rotate-180":u.value},"w-5 h-5 text-slate-400 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),w(e("div",Mt,[y.value.length>0?(a(),d("div",Vt,[t[19]||(t[19]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase tracking-wider mb-2"},"Target Channel",-1)),e("div",jt,[(a(!0),d(M,null,T(y.value,s=>(a(),d("div",{key:s.id,onClick:A=>l.value.youtube_token_id=s.id,class:h(["flex items-center p-3 border rounded-xl cursor-pointer transition-all",l.value.youtube_token_id===s.id?"border-red-500 bg-red-50 dark:bg-red-900/20 ring-2 ring-red-100 dark:ring-red-900/40":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-red-300 dark:hover:border-red-900/60"])},[e("img",{src:s.channel_thumbnail,class:"w-8 h-8 rounded-full shadow-sm mr-3"},null,8,Bt),e("span",zt,x(s.channel_title),1)],10,Tt))),128))])])):c("",!0),e("div",Lt,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"YouTube Title",-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.youtube_title=s),type:"text",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"Default: Story Title"},null,512),[[B,l.value.youtube_title]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"Tags",-1)),w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.youtube_tags=s),type:"text",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"story, ai, animation"},null,512),[[B,l.value.youtube_tags]])])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1"},"Description",-1)),w(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.youtube_description=s),rows:"2",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-red-500 outline-none dark:text-white",placeholder:"Default: Story Content"},null,512),[[B,l.value.youtube_description]])])],512),[[O,u.value]])])]),e("div",St,[e("button",{onClick:r,disabled:b.value||m.value,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-2xl transition-all shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 flex items-center justify-center space-x-2"},[b.value?(a(),d("svg",At,[...t[23]||(t[23]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),e("span",null,x(b.value?"Processing...":"Generate Video"),1)],8,Ht),e("button",{onClick:$,disabled:b.value||m.value,class:"flex-1 bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 dark:hover:bg-slate-600 text-white font-bold py-4 px-8 rounded-2xl transition-all shadow-lg shadow-slate-200 dark:shadow-none disabled:opacity-50 flex items-center justify-center space-x-2"},[m.value?(a(),d("svg",Ut,[...t[24]||(t[24]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(a(),d("svg",Et,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),e("span",null,x(m.value?"AI is Writing...":"AI: Draft Story"),1)],8,Dt)])])])]),e("div",Yt,[t[28]||(t[28]=e("div",{class:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-6"},[e("h3",{class:"font-bold text-slate-800 dark:text-white mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),E(" Tips for Success ")]),e("ul",{class:"space-y-4"},[e("li",{class:"flex items-start space-x-3 text-sm"},[e("div",{class:"w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold"},"1"),e("p",{class:"text-slate-600 dark:text-slate-400"},"Be descriptive in your story content for better AI visualization.")]),e("li",{class:"flex items-start space-x-3 text-sm"},[e("div",{class:"w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold"},"2"),e("p",{class:"text-slate-600 dark:text-slate-400"},'Use "Shorts" format for TikTok, Reels, and YouTube Shorts.')]),e("li",{class:"flex items-start space-x-3 text-sm"},[e("div",{class:"w-5 h-5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 font-bold"},"3"),e("p",{class:"text-slate-600 dark:text-slate-400"},"Connect your YouTube channel to automate uploads.")])])],-1)),y.value.length===0?(a(),d("div",It,[...t[27]||(t[27]=[e("h3",{class:"font-bold mb-2"},"Grow your channel",-1),e("p",{class:"text-indigo-100 text-sm mb-4 leading-relaxed"},"Connect your YouTube account to automatically upload your generated videos with AI-optimized metadata.",-1),e("a",{href:"/youtube/auth",class:"block w-full text-center bg-white text-indigo-600 font-bold py-3 rounded-xl hover:bg-indigo-50 transition-colors"}," Connect YouTube ",-1)])])):c("",!0)])]),_.value.length>0?(a(),d("section",Pt,[e("div",qt,[t[29]||(t[29]=e("div",null,[e("h2",{class:"text-3xl font-bold text-slate-900 dark:text-white"},"Your Gallery"),e("p",{class:"text-slate-500 dark:text-slate-400"},"View and manage your generated videos")],-1)),e("div",Nt,x(_.value.length)+" Total Stories ",1)]),e("div",Ot,[(a(!0),d(M,null,T(_.value,s=>(a(),I(Ae,{key:s.id,story:s,onRegenerate:H,onDelete:U,onUpload:R},null,8,["story"]))),128))]),p.value&&p.value.last_page>1?(a(),d("div",Ft,[(a(!0),d(M,null,T(p.value.links,s=>(a(),d("button",{key:s.label,onClick:A=>s.url?C(parseInt(s.url.match(/page=(\d+)/)?.[1]||1)):null,disabled:!s.url||s.active,class:h(["px-4 py-2 rounded-xl text-sm font-bold transition-all border shadow-sm flex items-center justify-center min-w-[40px]",[s.active?"bg-indigo-600 border-indigo-600 text-white":s.url?"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 hover:border-indigo-500 hover:text-indigo-600":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-300 dark:text-slate-600 cursor-not-allowed"]]),innerHTML:s.label},null,10,Rt))),128))])):c("",!0)])):c("",!0),P(Je,{show:L.value,story:D.value,channels:y.value,onClose:t[7]||(t[7]=s=>L.value=!1),onConfirm:G},null,8,["show","story","channels"])]),_:1}))}};export{Kt as default};
